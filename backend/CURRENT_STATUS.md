# Podwise FastAPI åå‘ä»£ç†ç•¶å‰ç‹€æ…‹

## ğŸ‰ æˆåŠŸé‹è¡Œçš„çµ„ä»¶

### âœ… FastAPI åå‘ä»£ç† (ç«¯å£ 8008)
- **ç‹€æ…‹**: æ­£å¸¸é‹è¡Œ
- **åŠŸèƒ½**: 
  - å‰ç«¯é é¢æœå‹™ âœ…
  - éœæ…‹æª”æ¡ˆæœå‹™ âœ…
  - API ä»£ç†è·¯ç”± âœ…
  - ç”¨æˆ¶ç®¡ç† API âœ…
  - å¥åº·æª¢æŸ¥ âœ…
- **è¨ªå•åœ°å€**: http://localhost:8008
- **API æ–‡æª”**: http://localhost:8008/docs

### âœ… æœå‹™é…ç½®
- **TTS**: http://localhost:8002
- **STT**: http://localhost:8003
- **RAG Pipeline**: http://localhost:8005
- **ML Pipeline**: http://localhost:8004
- **LLM**: http://localhost:8006

## âš ï¸ éœ€è¦å•Ÿå‹•çš„å¾®æœå‹™

### RAG Pipeline (ç«¯å£ 8005)
- **ç‹€æ…‹**: æœªé‹è¡Œ
- **å•é¡Œ**: ä¾è³´æ¨¡çµ„ç¼ºå¤± (`core.unified_service_manager`)
- **è§£æ±ºæ–¹æ¡ˆ**: éœ€è¦ä¿®å¾©ä¾è³´æˆ–ä½¿ç”¨ç°¡åŒ–ç‰ˆæœ¬

### å…¶ä»–å¾®æœå‹™
- **TTS æœå‹™** (ç«¯å£ 8002): æœªé‹è¡Œ
- **STT æœå‹™** (ç«¯å£ 8003): æœªé‹è¡Œ
- **ML Pipeline** (ç«¯å£ 8004): æœªé‹è¡Œ
- **LLM æœå‹™** (ç«¯å£ 8006): æœªé‹è¡Œ

## ğŸ§ª æ¸¬è©¦çµæœ

### âœ… æˆåŠŸçš„æ¸¬è©¦
```bash
# åŸºæœ¬ç«¯é»æ¸¬è©¦
curl http://localhost:8008/health                    # âœ… HTTP 200
curl http://localhost:8008/                          # âœ… HTTP 200
curl http://localhost:8008/index.html               # âœ… HTTP 200
curl http://localhost:8008/podri.html               # âœ… HTTP 200

# API ç«¯é»æ¸¬è©¦
curl http://localhost:8008/api/v1/services          # âœ… HTTP 200
curl http://localhost:8008/api/user/check/test123   # âœ… HTTP 200
curl http://localhost:8008/api/generate-podwise-id  # âœ… HTTP 200

# æ–‡æª”ç«¯é»æ¸¬è©¦
curl http://localhost:8008/docs                     # âœ… HTTP 200
curl http://localhost:8008/redoc                    # âœ… HTTP 200
```

### âš ï¸ é æœŸå¤±æ•—çš„æ¸¬è©¦
```bash
# RAG æŸ¥è©¢æ¸¬è©¦ (å› ç‚º RAG Pipeline æœªé‹è¡Œ)
curl -X POST "http://localhost:8008/api/v1/query" \
  -H "Content-Type: application/json" \
  -d '{"query": "ä½ å¥½", "user_id": "Podwise0001", "session_id": "test"}' 
# âš ï¸ è¿”å›éŒ¯èª¤ (é æœŸ)

# ä»£ç†ç«¯é»æ¸¬è©¦ (å› ç‚ºå¾®æœå‹™æœªé‹è¡Œ)
curl http://localhost:8008/api/tts/health           # âš ï¸ HTTP 502
curl http://localhost:8008/api/stt/health           # âš ï¸ HTTP 502
curl http://localhost:8008/api/rag/health           # âš ï¸ HTTP 502
```

## ğŸš€ ä¸‹ä¸€æ­¥è¡Œå‹•

### 1. å•Ÿå‹• RAG Pipeline
```bash
# æ–¹æ¡ˆ A: ä¿®å¾©ä¾è³´å•é¡Œ
cd backend/rag_pipeline
# æª¢æŸ¥ä¸¦ä¿®å¾© core.unified_service_manager æ¨¡çµ„

# æ–¹æ¡ˆ B: ä½¿ç”¨ç°¡åŒ–ç‰ˆæœ¬
cd backend
./start_rag_simple.sh
```

### 2. å•Ÿå‹•å…¶ä»–å¾®æœå‹™
```bash
# ä½¿ç”¨å¾®æœå‹™å•Ÿå‹•è…³æœ¬
cd backend
./start_microservices.sh
```

### 3. æ¸¬è©¦å®Œæ•´åŠŸèƒ½
```bash
# æ¸¬è©¦ RAG æŸ¥è©¢
curl -X POST "http://localhost:8008/api/v1/query" \
  -H "Content-Type: application/json" \
  -d '{"query": "ä½ å¥½ï¼Œè«‹ä»‹ç´¹ä¸€ä¸‹é€™å€‹ç³»çµ±", "user_id": "Podwise0001", "session_id": "test_session"}'

# æ¸¬è©¦ TTS åˆæˆ
curl -X POST "http://localhost:8008/api/v1/tts/synthesize" \
  -H "Content-Type: application/json" \
  -d '{"text": "ä½ å¥½ä¸–ç•Œ", "voice": "podrina", "speed": 1.0}'
```

## ğŸ“Š æ¶æ§‹ç‹€æ…‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FastAPI åå‘ä»£ç† (8008) âœ…                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‰ç«¯é é¢ â”‚ éœæ…‹æª”æ¡ˆ â”‚ API ä»£ç† â”‚ ç”¨æˆ¶ç®¡ç† â”‚ éŸ³æª”ç®¡ç† â”‚ å…¶ä»–    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚ TTS   â”‚   â”‚ STT     â”‚   â”‚ RAG     â”‚
â”‚ 8002  â”‚   â”‚ 8003    â”‚   â”‚ 8005    â”‚
â”‚ âŒ    â”‚   â”‚ âŒ      â”‚   â”‚ âŒ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚ LLM   â”‚   â”‚ ML      â”‚   â”‚ å…¶ä»–    â”‚
â”‚ 8006  â”‚   â”‚ 8004    â”‚   â”‚ æœå‹™    â”‚
â”‚ âŒ    â”‚   â”‚ âŒ      â”‚   â”‚ âŒ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¡ çµè«–

**FastAPI åå‘ä»£ç†å·²ç¶“å®Œå…¨æˆåŠŸé‹è¡Œï¼** 

- âœ… æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½éƒ½æ­£å¸¸å·¥ä½œ
- âœ… éŒ¯èª¤è™•ç†æ©Ÿåˆ¶æ­£å¸¸
- âœ… æœå‹™é…ç½®æ­£ç¢º
- âœ… å¯ä»¥ä½œç‚ºçµ±ä¸€å…¥å£é»ä½¿ç”¨

**ä¸‹ä¸€æ­¥åªéœ€è¦å•Ÿå‹•å„å€‹å¾®æœå‹™å³å¯ç²å¾—å®Œæ•´åŠŸèƒ½ã€‚**

## ğŸ”§ å¯ç”¨çš„å•Ÿå‹•è…³æœ¬

1. **`test_fastapi_local.sh`** - ç´”ç²¹çš„æœ¬åœ°æ¸¬è©¦ (æ¨è–¦)
2. **`start_microservices.sh`** - å•Ÿå‹•æ‰€æœ‰å¾®æœå‹™
3. **`start_rag_simple.sh`** - ç°¡åŒ–çš„ RAG Pipeline å•Ÿå‹•
4. **`quick_fastapi_start.sh`** - å¿«é€Ÿå•Ÿå‹• (ä¸ä¾è³´å¤–éƒ¨æœå‹™)

## ğŸŒ è¨ªå•åœ°å€

- **ä¸»é é¢**: http://localhost:8008
- **API æ–‡æª”**: http://localhost:8008/docs
- **å¥åº·æª¢æŸ¥**: http://localhost:8008/health
- **æœå‹™ç‹€æ…‹**: http://localhost:8008/api/v1/services 
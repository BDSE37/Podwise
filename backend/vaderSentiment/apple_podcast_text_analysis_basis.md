# Apple Podcast 評論文字分析（35%）——具體評分依據說明

## 1. 評分比重說明
Apple Podcast 節目評分，除了星等（如五星）外，評論文字分析佔總分的 35%，僅次於星等。這一部分能更深入反映用戶的真實感受與節目細節。

## 2. 星數的侷限
- 單純的星數（如 1~5 星）僅能反映用戶的整體滿意度，無法揭露其具體原因。
- 有些用戶給高星但評論內容有批評，或給低星但文字仍有肯定。
- 星數無法反映節目亮點、細節、或具體建議。

## 3. 文字分析的價值
- 評論文字能揭露用戶的真實想法、情感、與具體經驗。
- 可辨識出正面情緒（如喜愛、推薦）、負面情緒（如失望、不滿）、以及中立或建設性意見。
- 能發現節目的亮點（如主持風格、內容深度）與問題（如音質、廣告過多）。

## 4. 分析方法與依據
### 4.1 資料來源
- 來自 `/comment_data` 資料夾內所有 Apple Podcast 節目的用戶評論 json 檔案。

### 4.2 實際計算流程與用到的模組
1. **取得評論**  
   逐一讀取 `/comment_data` 內所有 json 檔案，取得每則評論的文字內容（通常在 `content` 欄位）。
2. **斷詞**  
   由 `core/sentiment_analyzer.py` 內的 `ChineseSentimentAnalyzer`，呼叫 `TextPreprocessor` 使用 jieba 進行中文斷詞。
3. **情感詞比對**  
   由 `ChineseSentimentAnalyzer` 呼叫 `core/lexicon_manager.py` 的 `LexiconManager`，比對每個詞是否屬於自訂的正面、負面、程度、否定詞庫。
4. **極性分類與累加**  
   - 若詞屬於正面詞庫，正向+1；屬於負面詞庫，負向+1。
   - 程度詞、否定詞會調整分數強度或方向。
   - 每則評論會累加正向、負向、中立（若無正負則為中立）次數。
5. **比率計算**  
   - 正向比率 = 正向情感詞總數 / (正向+中立+負向情感詞總數)
   - 負向比率 = 負向情感詞總數 / (正向+中立+負向情感詞總數)
   - 中立比率 = 中立情感詞總數 / (正向+中立+負向情感詞總數)

#### 公式
```
正向比率 = 正向情感詞總數 / (正向+中立+負向情感詞總數)
負向比率 = 負向情感詞總數 / (正向+中立+負向情感詞總數)
中立比率 = 中立情感詞總數 / (正向+中立+負向情感詞總數)
```

#### 實際數據範例
假設所有評論中：
- 正向情感詞出現 200 次
- 中立情感詞出現 50 次
- 負向情感詞出現 100 次

則：
- 正向比率 = 200 / 350 = 57.1%
- 中立比率 = 50 / 350 = 14.3%
- 負向比率 = 100 / 350 = 28.6%

### 4.3 實作細節補充
- 本系統的情感詞比對與分類，並非直接比對「Plutchik 八大情感詞庫」，而是透過 `core/lexicon_manager.py` 管理的自訂正面、負面、程度、否定詞庫，並由 `core/sentiment_analyzer.py` 的 `ChineseSentimentAnalyzer` 進行分詞、比對與分數計算。
- 斷詞與詞庫比對流程如下：
  1. 斷詞：由 `TextPreprocessor` 使用 jieba 進行分詞。
  2. 詞庫比對：由 `LexiconManager` 提供正負面詞庫，`ChineseSentimentAnalyzer` 逐詞比對並計算分數。
  3. 分數與標籤：根據正負分數與複合分數，給出正面/中性/負面標籤。

## 5. 如何納入總分
- 文字分析分數佔總評分 35%。
- 以正向情感比例、負向情感比例、亮點/問題提及等指標，綜合計算文字分析分數。
- 例如：正向比例高且亮點多，則文字分析分數高；負向比例高或問題多，則分數降低。

## 6. 結論與參考依據
- 文字分析能補足星數的不足，讓評分更全面、細緻。
- 依據來自 Apple Podcast 用戶實際評論內容，並以自然語言處理技術進行分析。
- 參考依據：/comment_data 內所有評論文字。

---
如需詳細演算法或詞庫內容，請參考本系統原始碼與情感詞庫設定。 
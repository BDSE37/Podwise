<!DOCTYPE HTML>

<html>

<head>
	<title>PodWise Podcastè‡ªå‹•æ‘˜è¦èˆ‡å€‹äººåŒ–æ¨è–¦ç³»çµ±</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />

	<style>
		/* â€”â€” Step 4ï¼šäº‚ç¢¼é¡¯ç¤ºèˆ‡è¤‡è£½ â€”â€” */
		#popup-step-4 {
			display: none;
			text-align: left;
		}

		#popup-step-4 h2 {
			color: #583e3d;
			font-size: 1.8em;
			margin-bottom: 1em;
		}

		#popup-step-4 .code-block-container {
			display: flex;
			align-items: flex-start;
			gap: 8px;
			margin-bottom: 1.5em;
		}

		#popup-step-4 pre#generated-code {
			background: #f5f5f5;
			padding: 1em;
			border-radius: 4px;
			font-family: monospace;
			font-size: 0.9em;
			white-space: pre-wrap;
			word-break: break-all;
			flex: 1;
			max-height: 150px;
			overflow: auto;
			border: 1px solid rgba(210, 215, 217, 0.75);
		}

		#popup-step-4 button#copy-code-btn {
			background-color: #d7b590;
			color: #fff;
			border: none;
			border-radius: 4px;
			padding: 0.6em 1.2em;
			font-size: 0.9em;
			cursor: pointer;
			transition: transform 0.1s ease;
		}

		#popup-step-4 button#copy-code-btn:active {
			transform: scale(0.95);
		}
		.music-cards {
			display: flex;
			gap: 2em;
			margin-top: 2em;
		}
		.music-card {
			background: #ebebeb;
			border-radius: 1em;
			box-shadow: 0 4px 16px rgba(88,62,61,0.08);
			width: 220px;
			overflow: hidden;
			transition: box-shadow 0.2s;
		}
		.music-card:hover {
			box-shadow: 0 8px 24px rgba(88,62,61,0.18);
		}
		.music-card-img {
			position: relative;
			width: 100%;
			height: 180px;
			overflow: hidden;
		}
		.music-card-img img {
			width: 100%;
			height: 100%;
			object-fit: cover;
		}
		.play-btn {
			position: absolute;
			bottom: 12px;
			right: 12px;
			background: rgba(215,181,144,0.9);
			border: none;
			border-radius: 50%;
			width: 44px;
			height: 44px;
			font-size: 1.5em;
			color: #fff;
			cursor: pointer;
			box-shadow: 0 2px 8px rgba(88,62,61,0.15);
			transition: background 0.2s;
		}
		.play-btn:hover {
			background: #583e3d;
		}
		.music-card-info {
			padding: 1em;
			text-align: left;
		}
		.music-card-title {
			font-weight: bold;
			font-size: 1.1em;
			color: #583e3d;
		}
		.music-card-author {
			color: #a08c7d;
			font-size: 0.95em;
			margin-top: 0.3em;
		}
		header.major {
			text-align: center;
		}
		.music-cards,
		.quiz-recommendations {
			display: flex;
			justify-content: center;
			align-items: flex-start;
			gap: 2em;
			flex-wrap: wrap;
		}

		header.major h2 { 
  color: inherit; 
}

/* åªæŠŠå‰é¢çš„ dash è¨­ç‚ºç™½è‰² */
header.major .dash {
  color: #fff;
}

.searchbar-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px; /* æ§åˆ¶é–“è·ï¼Œå¯èª¿æ•´ */
  width: 100%;
  margin-top: 1em;
}

.InputContainer {
  display: flex;
  align-items: center;
  /* å…¶ä»–åŸæœ‰æ¨£å¼ä¸è®Š */
}

.input-logo {
  height: 38px;
  width: 38px;
  cursor: pointer;
  transition: filter 0.2s;
  vertical-align: middle;
}
.input-logo:hover {
  filter: brightness(0.8);
}

		/* æ–°å¢ TAG æŒ‰éˆ•æ¨£å¼ï¼šé€™è£¡åªä¿ç•™ç´” CSSï¼Œä¸è¦æœ‰ JS */
		
		/* From Uiverse.io by catraco */ 
		.heart-container {
		  --heart-color: rgb(255, 91, 137);
		  position: relative;
		  width: 32px;
		  height: 32px;
		  transition: .3s;
		}

		.heart-container .checkbox {
		  position: absolute;
		  width: 100%;
		  height: 100%;
		  opacity: 0;
		  z-index: 20;
		  cursor: pointer;
		}

		.heart-container .svg-container {
		  width: 100%;
		  height: 100%;
		  display: flex;
		  justify-content: center;
		  align-items: center;
		}

		.heart-container .svg-outline,
				.heart-container .svg-filled {
		  fill: var(--heart-color);
		  position: absolute;
		}

		.heart-container .svg-filled {
		  animation: keyframes-svg-filled 1s;
		  display: none;
		}

		.heart-container .svg-celebrate {
		  position: absolute;
		  animation: keyframes-svg-celebrate .5s;
		  animation-fill-mode: forwards;
		  display: none;
		  stroke: var(--heart-color);
		  fill: var(--heart-color);
		  stroke-width: 2px;
		}

		.heart-container .checkbox:checked~.svg-container .svg-filled {
		  display: block
		}

		.heart-container .checkbox:checked~.svg-container .svg-celebrate {
		  display: block
		}

		@keyframes keyframes-svg-filled {
		  0% {
			transform: scale(0);
		  }

		  25% {
			transform: scale(1.2);
		  }

		  50% {
			transform: scale(1);
			filter: brightness(1.5);
		  }
		}

		@keyframes keyframes-svg-celebrate {
		  0% {
			transform: scale(0);
		  }

		  50% {
			opacity: 1;
			filter: brightness(1.5);
		  }

		  100% {
			transform: scale(1.4);
			opacity: 0;
			display: none;
		  }
		}
	</style>
</head>

<body class="is-preload">

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Main -->
		<div id="main">
			<div class="inner">

				<!-- Header -->
				<header id="header" style="display: flex; justify-content: space-between; align-items: center; 
				padding: 10px 30px; width: 100%; box-sizing: border-box; margin-top: 40px;margin-bottom: 60px;">
				<!-- å·¦å´ï¼šlogo + æ–‡å­— -->
				<a href="podri.html" class="logo" style="display: flex; align-items: center; text-decoration: none;">
				  <img src="images/logo_black.png" alt="PodWise Logo" style="height: 60px; margin-right: 10px;">
				  <strong>PodWise</strong> Podcastè‡ªå‹•æ‘˜è¦èˆ‡å€‹äººåŒ–æ¨è–¦ç³»çµ±
				</a>
				<!-- å³å´ï¼šä½¿ç”¨è€…é ­åƒ -->
				<div>
				  <img src="images/user.png" id="user-login-btn" alt="ç™»å…¥"
					style="width:40px; height:40px; cursor:pointer; border-radius:50%; border:2px solid #1dd195; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.08);">
				</div>
				<!-- ç™»å…¥å½ˆçª— -->
				<div id="login-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.18); z-index:9999;">
					<div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:#fff; border-radius:16px; box-shadow:0 8px 32px rgba(0,0,0,0.18); padding:2em 2.5em; min-width:260px;">
						<div style="text-align:center; margin-bottom:1em; font-weight:bold; font-size:1.1em;">è«‹è¼¸å…¥ä½¿ç”¨è€…ID</div>
						<input type="text" id="user-id-input" placeholder="TYPE YOUR ID" style="width:100%; padding:0.7em; border-radius:8px; border:1px solid #1dd195; margin-bottom:1em; text-align:center; font-size:1em;">
						<div id="login-close-btn" style="position:absolute; top:10px; right:14px; font-size:1.3em; color:#aaa; cursor:pointer;">&times;</div>
					</div>
				</div>
					<!-- <ul class="icons">
						<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
						<li><a href="#" class="icon brands fa-snapchat-ghost"><span class="label">Snapchat</span></a>
						</li>
						<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
						<li><a href="#" class="icon brands fa-medium-m"><span class="label">Medium</span></a></li>
					</ul> -->
				</header>

				<!-- Banner -->
				<section id="banner">
					<div class="content">
						<header>
							<h1>PodWise<br /></h1>
							<h2>AI ç²¾æº–èª¿é »ï¼Œæ‰“é€ ä½ çš„å€‹äººè²éŸ³ç©ºé–“ã€‚</h2>
							<p> PodWiseå¸Œæœ›æˆç‚ºä½ çš„æ™ºèƒ½åš®å°,å¹«åŠ©ä½ ç™¼ç¾ç¬¦åˆä½ è†è½ç¿’æ…£çš„å°ˆå±¬ç²¾å½©å…§å®¹ã€‚</p>
							<p>è®“æ¯ä¸€æ¬¡æ”¶è½,éƒ½æ›´è²¼è¿‘ä½ çš„éœ€æ±‚ã€‚
							</p>
						</header>
<!-- æœå°‹æ¬„ç½®ä¸­å¤–å±¤ -->
<div class="searchbar-row">
  <div class="InputContainer">
    <input placeholder="Ask Podri.. (æŒ‰ Enter é–‹å§‹å°è©±)" id="input" class="input" name="text" type="text">
  </div>
</div>

<script>
// æœå°‹æ¬„ Enter éµè·³è½‰åŠŸèƒ½
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('input');
    
    if (searchInput) {
        searchInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                const searchText = this.value.trim();
                if (searchText) {
                    // ç²å–ç•¶å‰ç”¨æˆ¶ID
                    const userId = window.generatedUserId || localStorage.getItem('currentUserId') || 'default_user';
                    // è·³è½‰åˆ° podri.html ä¸¦å¸¶å…¥æœå°‹æ–‡å­—åƒæ•¸å’Œç”¨æˆ¶ID
                    window.location.href = `podri.html?search=${encodeURIComponent(searchText)}&user_id=${encodeURIComponent(userId)}`;
                }
            }
        });
    }
});
// ç™»å…¥å½ˆçª—äº’å‹•
(function(){
	const loginBtn = document.getElementById('user-login-btn');
	const loginModal = document.getElementById('login-modal');
	const closeBtn = document.getElementById('login-close-btn');
	const userIdInput = document.getElementById('user-id-input');

	if(loginBtn && loginModal) {
		loginBtn.onclick = function(e) {
			loginModal.style.display = 'block';
			userIdInput.value = '';
			userIdInput.focus();
			e.stopPropagation();
		};
	}
	if(closeBtn && loginModal) {
		closeBtn.onclick = function() {
			loginModal.style.display = 'none';
		};
	}
	if(loginModal) {
		loginModal.onclick = function(e) {
			if(e.target === loginModal) loginModal.style.display = 'none';
		};
	}
			if(userIdInput) {
			userIdInput.addEventListener('keydown', function(e){
				if(e.key === 'Enter') {
					const userId = userIdInput.value.trim();
					if (userId) {
						// ä¿å­˜ç”¨æˆ¶IDåˆ° localStorage
						localStorage.setItem('currentUserId', userId);
						window.generatedUserId = userId;
						alert('å·²è¼¸å…¥IDï¼š' + userId);
						loginModal.style.display = 'none';
					}
				}
			});
		}
})();
</script>


				<!-- Section -->
				<section>
					<header class="major">
						<h2 style="margin-top:6em; text-align:center;">
						  <span class="dash">--</span>ç†±é–€æ¨è–¦
						</h2>
					  </header>
					  
					<div class="music-cards">
						<!-- å¡ç‰‡1 - Business -->
						<div class="card" data-category="business">
							<div class="one">
							  <div class="music">
								<img src="http://192.168.32.66:30090/podcast-images/RSS_262026947_300.jpg" 
									 alt="Business Podcast" 
									 style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;"
									 onerror="this.src='images/default_podcast.png'">
							  </div>
							  <span class="name">
								<div></div>
								å•†æ¥­ç²¾é¸
							  </span>
							  <span class="name1">
								<div></div>
								Business Collection
							  </span>
							  <div class="bar">
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-fast-forward-fill"
								  fill="currentColor"
								  height="16"
								  width="16"
								  xmlns="http://www.w3.org/2000/svg"
								>
								  <path
									d="M7.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								  <path
									d="M15.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								</svg>
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-caret-right-fill play-button"
								  fill="currentColor"
								  height="18"
								  width="18"
								  xmlns="http://www.w3.org/2000/svg"
								  style="cursor: pointer;"
								  onclick="playRandomAudio('business', this)"
								>
								  <path
									d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"
								  ></path>
								</svg>
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-fast-forward-fill"
								  fill="currentColor"
								  height="16"
								  width="16"
								  xmlns="http://www.w3.org/2000/svg"
								>
								  <path
									d="M7.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								  <path
									d="M15.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								</svg>
							  </div>
							</div>
							<div class="two"></div>
							<div class="three"></div>
						</div>
						
						<!-- å¡ç‰‡2 - Education -->
						<div class="card" data-category="education">
							<div class="one">
							  <div class="music">
								<img src="http://192.168.32.66:30090/podcast-images/RSS_1533782597_300.jpg" 
									 alt="Education Podcast" 
									 style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;"
									 onerror="this.src='images/default_podcast.png'">
							  </div>
							  <span class="name">
								<div></div>
								æ•™è‚²ç²¾é¸
							  </span>
							  <span class="name1">
								<div></div>
								Education Collection
							  </span>
							  <div class="bar">
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-fast-forward-fill"
								  fill="currentColor"
								  height="16"
								  width="16"
								  xmlns="http://www.w3.org/2000/svg"
								>
								  <path
									d="M7.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								  <path
									d="M15.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								</svg>
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-caret-right-fill play-button"
								  fill="currentColor"
								  height="18"
								  width="18"
								  xmlns="http://www.w3.org/2000/svg"
								  style="cursor: pointer;"
								  onclick="playRandomAudio('education', this)"
								>
								  <path
									d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"
								  ></path>
								</svg>
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-fast-forward-fill"
								  fill="currentColor"
								  height="16"
								  width="16"
								  xmlns="http://www.w3.org/2000/svg"
								>
								  <path
									d="M7.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								  <path
									d="M15.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								</svg>
							  </div>
							</div>
							<div class="two"></div>
							<div class="three"></div>
						</div>
						
						<!-- å¡ç‰‡3 - Business 2 -->
						<div class="card" data-category="business">
							<div class="one">
							  <div class="music">
								<img src="http://192.168.32.66:30090/podcast-images/RSS_1452688611_300.jpg" 
									 alt="Business Podcast 2" 
									 style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;"
									 onerror="this.src='images/default_podcast.png'">
							  </div>
							  <span class="name">
								<div></div>
								æŠ•è³‡ç†è²¡
							  </span>
							  <span class="name1">
								<div></div>
								Investment & Finance
							  </span>
							  <div class="bar">
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-fast-forward-fill"
								  fill="currentColor"
								  height="16"
								  width="16"
								  xmlns="http://www.w3.org/2000/svg"
								>
								  <path
									d="M7.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								  <path
									d="M15.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								</svg>
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-caret-right-fill play-button"
								  fill="currentColor"
								  height="18"
								  width="18"
								  xmlns="http://www.w3.org/2000/svg"
								  style="cursor: pointer;"
								  onclick="playRandomAudio('business', this)"
								>
								  <path
									d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"
								  ></path>
								</svg>
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-fast-forward-fill"
								  fill="currentColor"
								  height="16"
								  width="16"
								  xmlns="http://www.w3.org/2000/svg"
								>
								  <path
									d="M7.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								  <path
									d="M15.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								</svg>
							  </div>
							</div>
							<div class="two"></div>
							<div class="three"></div>
						</div>
						
						<!-- å¡ç‰‡4 - Education 2 -->
						<div class="card" data-category="education">
							<div class="one">
							  <div class="music">
								<img src="http://192.168.32.66:30090/podcast-images/RSS_1590806478_300.jpg" 
									 alt="Education Podcast 2" 
									 style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;"
									 onerror="this.src='images/default_podcast.png'">
							  </div>
							  <span class="name">
								<div></div>
								å­¸ç¿’æˆé•·
							  </span>
							  <span class="name1">
								<div></div>
								Learning & Growth
							  </span>
							  <div class="bar">
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-fast-forward-fill"
								  fill="currentColor"
								  height="16"
								  width="16"
								  xmlns="http://www.w3.org/2000/svg"
								>
								  <path
									d="M7.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								  <path
									d="M15.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								</svg>
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-caret-right-fill play-button"
								  fill="currentColor"
								  height="18"
								  width="18"
								  xmlns="http://www.w3.org/2000/svg"
								  style="cursor: pointer;"
								  onclick="playRandomAudio('education', this)"
								>
								  <path
									d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"
								  ></path>
								</svg>
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-fast-forward-fill"
								  fill="currentColor"
								  height="16"
								  width="16"
								  xmlns="http://www.w3.org/2000/svg"
								>
								  <path
									d="M7.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								  <path
									d="M15.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								</svg>
							  </div>
							</div>
							<div class="two"></div>
							<div class="three"></div>
						</div>
						
						<!-- å¡ç‰‡5 - Business 3 -->
						<div class="card" data-category="business">
							<div class="one">
							  <div class="music">
								<img src="http://192.168.32.66:30090/podcast-images/RSS_1488718553_300.jpg" 
									 alt="Business Podcast 3" 
									 style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;"
									 onerror="this.src='images/default_podcast.png'">
							  </div>
							  <span class="name">
								<div></div>
								ç§‘æŠ€è¶¨å‹¢
							  </span>
							  <span class="name1">
								<div></div>
								Tech Trends
							  </span>
							  <div class="bar">
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-fast-forward-fill"
								  fill="currentColor"
								  height="16"
								  width="16"
								  xmlns="http://www.w3.org/2000/svg"
								>
								  <path
									d="M7.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								  <path
									d="M15.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								</svg>
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-caret-right-fill play-button"
								  fill="currentColor"
								  height="18"
								  width="18"
								  xmlns="http://www.w3.org/2000/svg"
								  style="cursor: pointer;"
								  onclick="playRandomAudio('business', this)"
								>
								  <path
									d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"
								  ></path>
								</svg>
								<svg
								  viewBox="0 0 16 16"
								  class="color bi bi-fast-forward-fill"
								  fill="currentColor"
								  height="16"
								  width="16"
								  xmlns="http://www.w3.org/2000/svg"
								>
								  <path
									d="M7.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								  <path
									d="M15.596 7.304a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692Z"
								  ></path>
								</svg>
							  </div>
							</div>
							<div class="two"></div>
							<div class="three"></div>
						</div>

					</div>
					<audio id="audio-player"></audio>
					
					<!-- é¦–é éŸ³æ¨‚å¡ç‰‡æ’­æ”¾åŠŸèƒ½ -->
					<script>
						// å…¨åŸŸéŸ³æª”æ’­æ”¾å™¨
						let homePageAudio = null;
						let currentPlayingButton = null;
						
						// æ’­æ”¾éš¨æ©ŸéŸ³æª”
						async function playRandomAudio(category, button) {
							try {
								console.log('æ’­æ”¾éš¨æ©ŸéŸ³æª”ï¼Œé¡åˆ¥:', category);
								
								// åœæ­¢ç•¶å‰æ’­æ”¾
								if (homePageAudio) {
									homePageAudio.pause();
									homePageAudio = null;
								}
								
								// é‡ç½®æ‰€æœ‰æ’­æ”¾æŒ‰éˆ•
								document.querySelectorAll('.play-button').forEach(btn => {
									btn.style.fill = 'currentColor';
								});
								
								// ç²å–éš¨æ©ŸéŸ³æª”
								const response = await fetch('/api/random-audio', {
									method: 'POST',
									headers: {
										'Content-Type': 'application/json',
									},
									body: JSON.stringify({
										category: category
									})
								});
								
								if (response.ok) {
									const data = await response.json();
									if (data.success && data.audio_url) {
										// å‰µå»ºæ–°çš„éŸ³æª”ç‰©ä»¶
										homePageAudio = new Audio(data.audio_url);
										currentPlayingButton = button;
										
										// è¨­å®šäº‹ä»¶ç›£è½å™¨
										homePageAudio.addEventListener('play', () => {
											console.log('é–‹å§‹æ’­æ”¾éš¨æ©ŸéŸ³æª”');
											button.style.fill = '#4CAF50'; // æ’­æ”¾æ™‚è®Šç¶ è‰²
										});
										
										homePageAudio.addEventListener('pause', () => {
											console.log('æš«åœæ’­æ”¾');
											button.style.fill = 'currentColor';
										});
										
										homePageAudio.addEventListener('ended', () => {
											console.log('æ’­æ”¾çµæŸ');
											button.style.fill = 'currentColor';
											homePageAudio = null;
											currentPlayingButton = null;
										});
										
										homePageAudio.addEventListener('error', (e) => {
											console.error('æ’­æ”¾éŒ¯èª¤:', e);
											button.style.fill = 'currentColor';
											alert('éŸ³æª”æ’­æ”¾å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
										});
										
										// é–‹å§‹æ’­æ”¾
										await homePageAudio.play();
										
										// é¡¯ç¤ºæ’­æ”¾æç¤º
										showPlayNotification(category);
										
									} else {
										throw new Error(data.message || 'ç„¡æ³•ç²å–éŸ³æª”');
									}
								} else {
									throw new Error(`API è«‹æ±‚å¤±æ•—: ${response.status}`);
								}
								
							} catch (error) {
								console.error('æ’­æ”¾éš¨æ©ŸéŸ³æª”å¤±æ•—:', error);
								alert('æ’­æ”¾å¤±æ•—: ' + error.message);
								button.style.fill = 'currentColor';
							}
						}
						
						// é¡¯ç¤ºæ’­æ”¾æç¤º
						function showPlayNotification(category) {
							const categoryName = category === 'business' ? 'å•†æ¥­' : 'æ•™è‚²';
							
							// å‰µå»ºæˆ–æ›´æ–°æ’­æ”¾æç¤º
							let notificationDiv = document.getElementById('home-play-notification');
							if (!notificationDiv) {
								notificationDiv = document.createElement('div');
								notificationDiv.id = 'home-play-notification';
								notificationDiv.style.cssText = `
									position: fixed;
									bottom: 20px;
									right: 20px;
									background: #4CAF50;
									color: white;
									padding: 12px 18px;
									border-radius: 8px;
									z-index: 10000;
									font-size: 14px;
									box-shadow: 0 4px 12px rgba(0,0,0,0.3);
									max-width: 300px;
									word-wrap: break-word;
									transform: translateX(100%);
									transition: transform 0.3s ease;
								`;
								document.body.appendChild(notificationDiv);
							}
							
							notificationDiv.innerHTML = `
								<div style="display: flex; align-items: center; gap: 8px;">
									<span style="font-size: 18px;">ğŸµ</span>
									<div>
										<div style="font-weight: bold;">æ­£åœ¨æ’­æ”¾</div>
										<div style="font-size: 12px; opacity: 0.9;">${categoryName}é¡åˆ¥éš¨æ©ŸéŸ³æª”</div>
									</div>
								</div>
							`;
							
							// é¡¯ç¤ºå‹•ç•«
							setTimeout(() => {
								notificationDiv.style.transform = 'translateX(0)';
							}, 100);
							
							// 3ç§’å¾Œè‡ªå‹•éš±è—
							setTimeout(() => {
								notificationDiv.style.transform = 'translateX(100%)';
								setTimeout(() => {
									if (notificationDiv) {
										notificationDiv.remove();
									}
								}, 300);
							}, 3000);
						}
						
						// é é¢é›¢é–‹æ™‚åœæ­¢æ’­æ”¾
						window.addEventListener('beforeunload', () => {
							if (homePageAudio) {
								homePageAudio.pause();
								homePageAudio = null;
							}
						});
					</script>
				</section>
			</div>
		</div>
		<!--sidebay-->
	</div>
	
	<!-- Scripts -->
	<script>
		window.addEventListener('DOMContentLoaded', () => {
			// ç¬¬ä¸€æ¬¡é€ è¨ªæ‰é¡¯ç¤º popup
			const hasVisited = localStorage.getItem('hasVisitedPopup');

			if (!hasVisited) {
				document.getElementById('popup-overlay').style.display = 'flex';
				localStorage.setItem('hasVisitedPopup', 'true');
			}
		});

		function closePopup() {
			document.getElementById("popup-overlay").style.display = "none";
		}
	</script>

	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

	<!-- Quiz Overlay -->
	<div id="popup-overlay"
		style="display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:9999; display:flex; justify-content:center; align-items:center;">
		<div id="popup-container"
			style="background:#ebebeb; padding:2.5em; border-radius:2em; max-width:600px; width:90%; position:relative;">
			<!-- é—œé–‰æŒ‰éˆ• -->
			<img src="images/delete.png" alt="é—œé–‰" class="close-button"
				style="position:absolute; top:1rem; right:1rem; width:24px; height:24px; cursor:pointer; z-index:10;"
				onclick="closePopup()">
			<!-- Step 1 -->
			<div class="popup-step" id="popup-step-1">
				<h2>Taste of PodWise !</h2>
				<div class="quiz-option-container">
					<div class="quiz-option" data-category="business" onclick="window.selectMainCategory && window.selectMainCategory('business')">
						<img src="images/financial-profit_golden.png" alt="å•†æ¥­">
						<div>å•†æ¥­</div>
					</div>
					<div class="quiz-option" data-category="education" onclick="window.selectMainCategory && window.selectMainCategory('education')">
						<img src="images/school_golden.png" alt="æ•™è‚²">
						<div>æ•™è‚²</div>
					</div>
				</div>
			</div>

			<!-- Step 2 -->
			<div class="popup-step" id="popup-step-2" style="display:none;">
				<h2>Which type?</h2>
				<div id="category-tags" style="display: flex; gap: 1em; margin-bottom: 1.5em; justify-content: center;"></div>
				<button class="button primary" style="margin-top:2em;" onclick="goToStep(3)">ä¸‹ä¸€æ­¥</button>
			</div>
			
			</script>



<!-- Step 3 -->
<div class="popup-step" id="popup-step-3" style="display:none;">
	<h2>You may likeâ€¦</h2>
	<h3 style="text-align:left; margin-left:0; padding-left:0;">
	  è©¦è½ä½ æœ‰èˆˆè¶£çš„ç¯€ç›® ä¸¦æŒ‰ä¸‹å–œæ­¡
	</h3>
	<div class="quiz-recommendations" id="recommendations-container" style="display: flex; gap: 1.5em; flex-wrap: wrap; justify-content: center; align-items: center;">
	  <!-- æ¨è–¦ç¯€ç›®å°‡åœ¨é€™è£¡å‹•æ…‹è¼‰å…¥ -->
	  </div>
  
	<button class="button secondary" onclick="refreshRecommendations()">é‡æ–°æ•´ç†</button>
	<button class="button primary" onclick="goToStep(4)">ä¸‹ä¸€æ­¥</button>
  
	<script>
	  // å…¨åŸŸè®Šæ•¸
	  let currentCategory = '';
	  let selectedEpisodes = [];
	  let currentRecommendations = [];
	  
	  // ä¸»é¡åˆ¥å°æ‡‰ TAG poolï¼ˆèˆ‡å¾Œç«¯ä¸€è‡´ï¼‰
	  // æ³¨æ„ï¼šCATEGORY_TAGS å·²åœ¨ Step 2 ä¸­å®šç¾©ï¼Œé€™è£¡ç§»é™¤é‡è¤‡å®£å‘Š
	  
	  window.selectedTag = null;
	  
	  // æ³¨æ„ï¼šrenderCategoryTags å‡½æ•¸å·²åœ¨ Step 2 ä¸­å®šç¾©ï¼Œé€™è£¡ä¸å†é‡è¤‡å®šç¾©
	  
	  // å¾ Step 2 ç²å–é¡åˆ¥
	  function getCategoryFromStep2() {
		// ä½¿ç”¨å…¨åŸŸè®Šæ•¸ mainCategory
		if (mainCategory) {
		  console.log('ä½¿ç”¨å…¨åŸŸè®Šæ•¸ mainCategory:', mainCategory);
		  return mainCategory;
		}
		console.log('æ²’æœ‰æ‰¾åˆ°é¸ä¸­çš„é¡åˆ¥ï¼Œä½¿ç”¨é è¨­å€¼: business');
		return 'business'; // é è¨­å€¼
	  }
	  
	  // æ˜ å°„é¡åˆ¥åˆ° API é¡åˆ¥
	  function mapCategoryToAPI(category) {
		// ç›´æ¥ä½¿ç”¨ mainCategoryï¼Œå› ç‚ºå·²ç¶“æ˜¯ 'business' æˆ– 'education'
		return category || 'business';
	  }
	  
	  // è¼‰å…¥æ¨è–¦ç¯€ç›®ï¼ˆæ ¹æ“štagèˆ‡categoryå‹•æ…‹å–å¾—ï¼‰
	  window.loadRecommendations = async function() {
		try {
		  // å–å¾—ç›®å‰é¸æ“‡çš„ä¸»é¡åˆ¥èˆ‡tag
		  const apiCategory = window.mainCategory || 'business';
		  const apiTag = window.selectedTag || '';
		  console.log('Step3 è¼‰å…¥æ¨è–¦ï¼Œé¡åˆ¥:', apiCategory, 'tag:', apiTag);

		  // å‘¼å«å¾Œç«¯APIå–å¾—æ¨è–¦ç¯€ç›®
		  const response = await fetch(`/api/one-minutes-episodes?category=${encodeURIComponent(apiCategory)}&tag=${encodeURIComponent(apiTag)}`, {
			method: 'GET',
			headers: { 'Content-Type': 'application/json' }
		  });
		  if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
		  const data = await response.json();
		  
		  if (data.success && data.episodes && data.episodes.length > 0) {
			currentRecommendations = data.episodes;
			console.log('æˆåŠŸè¼‰å…¥ç¯€ç›®:', currentRecommendations.length, 'å€‹');
		  } else {
			console.warn('API è¿”å› 0 å€‹ç¯€ç›®ï¼Œä½¿ç”¨é è¨­æ¨è–¦');
			throw new Error('API è¿”å› 0 å€‹ç¯€ç›®');
		  }
		  renderRecommendations();
		} catch (error) {
		  console.error('è¼‰å…¥æ¨è–¦å¤±æ•—:', error);
		  loadDefaultRecommendations();
		}
	  }
	  
	  // è¼‰å…¥é è¨­æ¨è–¦ï¼ˆç•¶ API ä¸å¯ç”¨æ™‚ï¼‰
	  window.loadDefaultRecommendations = function() {
		const category = window.mainCategory || 'business';
		let defaultRecommendations = [];
		
		if (category === 'business') {
		  defaultRecommendations = [
		  {
			podcast_name: 'è‚¡ç™Œ Gooaye',
			episode_title: 'æŠ•è³‡ç†è²¡ç²¾é¸',
			episode_description: 'æ™¦æ¾€é‡‘èæŠ•è³‡çŸ¥è­˜ç›´ç™½è¬›ï¼Œé‡è¦æµ·å…§å¤–æ™‚äº‹è¼•é¬†è«‡ã€‚',
			podcast_image: 'images/è‚¡ç™Œ.png',
			audio_url: 'audio/sample1.mp3',
			        episode_id: 4,
			rss_id: 'RSS_1531106786',
			tags: ['æŠ•è³‡ç†è²¡', 'è‚¡ç¥¨åˆ†æ', 'å¸‚å ´è¶¨å‹¢', 'ç¶“æ¿Ÿåˆ†æ']
		  },
		  {
			podcast_name: 'çŸ½è°·è¼•é¬†è«‡',
			episode_title: 'AI æŠ€è¡“è¶¨å‹¢',
			episode_description: 'Google æœå°‹ã€AI æŠ€è¡“ã€ç§‘æŠ€è¶¨å‹¢éƒ½èƒ½è¼•é¬†è½æ‡‚ã€‚',
			podcast_image: 'images/çŸ½è°·è¼•é¬†è«‡.png',
			audio_url: 'audio/sample2.mp3',
			episode_id: 2,
			rss_id: 'RSS_1493189417',
			tags: ['ç§‘æŠ€è¶¨å‹¢', 'äººå·¥æ™ºæ…§', 'å‰µæ–°æ€ç¶­', 'æ•¸ä½è½‰å‹']
		  },
		  {
			podcast_name: 'å¤©ä¸‹å­¸ç¿’',
			episode_title: 'ç®¡ç†æ€ç¶­åˆ†äº«',
			episode_description: 'è¨ªè«‡é ‚å°–é ˜å°è€…ï¼Œæ¢ç´¢ç®¡ç†æ€ç¶­ã€æ•™è‚²å‰µæ–°èˆ‡æœªä¾†è¶¨å‹¢ã€‚',
			podcast_image: 'images/å¤©ä¸‹å­¸ç¿’.png',
			audio_url: 'audio/sample3.mp3',
			episode_id: 3,
			rss_id: 'RSS_1590058994',
			tags: ['ä¼æ¥­ç®¡ç†', 'é ˜å°åŠ›', 'å­¸ç¿’æ–¹æ³•', 'å€‹äººæˆé•·']
		  }
		];
		} else if (category === 'education') {
		  defaultRecommendations = [
			{
			  podcast_name: 'å•Ÿé»æ–‡åŒ–ä¸€å¤©è½ä¸€é»',
			  episode_title: 'å­¸ç¿’æ–¹æ³•è«–',
			  episode_description: 'æ¢è¨æœ‰æ•ˆçš„å­¸ç¿’æ–¹æ³•å’ŒçŸ¥è­˜ç²å–æŠ€å·§ã€‚',
			  podcast_image: 'images/çŸ¥è­˜å°±æ˜¯åŠ›é‡.png',
			  audio_url: 'audio/sample4.mp3',
			  episode_id: 4,
			  rss_id: 'RSS_1488718553',
			  tags: ['å­¸ç¿’æ–¹æ³•', 'æ•™è‚²ç†å¿µ', 'çŸ¥è­˜åˆ†äº«', 'å€‹äººæˆé•·']
			},
			{
			  podcast_name: 'æ–‡æ£®èªªæ›¸',
			  episode_title: 'æœªä¾†æ•™è‚²è¶¨å‹¢',
			  episode_description: 'æ¢è¨ç§‘æŠ€å¦‚ä½•æ”¹è®Šæ•™è‚²æ–¹å¼å’Œå­¸ç¿’é«”é©—ã€‚',
			  podcast_image: 'images/ç§‘æŠ€æ–°çŸ¥.png',
			  audio_url: 'audio/sample5.mp3',
			  episode_id: 5,
			  rss_id: 'RSS_1513786617',
			  tags: ['æ•™è‚²ç§‘æŠ€', 'æœªä¾†è¶¨å‹¢', 'å‰µæ–°æ•™è‚²', 'æ•¸ä½å­¸ç¿’']
			},
			{
			  podcast_name: 'å¤§äººçš„Small Talk',
			  episode_title: 'è‡ªæˆ‘æå‡æŒ‡å—',
			  episode_description: 'å¹«åŠ©ä½ å»ºç«‹ç©æ¥µå¿ƒæ…‹ï¼Œå¯¦ç¾å€‹äººæˆé•·ç›®æ¨™ã€‚',
			  podcast_image: 'images/å¿ƒéˆæˆé•·.png',
			  audio_url: 'audio/sample6.mp3',
			  episode_id: 6,
			  rss_id: 'RSS_1452688611',
			  tags: ['å€‹äººæˆé•·', 'å¿ƒç†å­¸', 'è‡ªæˆ‘æå‡', 'å¿ƒéˆæˆé•·']
			}
		  ];
		}
  
		currentRecommendations = defaultRecommendations;
		renderRecommendations();
	  }
	  
	  // æ¸²æŸ“æ¨è–¦ç¯€ç›®
	  window.renderRecommendations = function() {
		const container = document.getElementById('recommendations-container');
		container.innerHTML = '';
  
		// å»é‡ï¼šç¢ºä¿æ²’æœ‰é‡è¤‡çš„ç¯€ç›®å’Œé »é“
		const uniqueRecommendations = [];
		const usedEpisodeIds = new Set();
		const usedPodcastNames = new Set();
		
		for (const rec of currentRecommendations) {
			                const episodeId = rec.episode_id;
			const podcastName = rec.podcast_name || rec.rss_id;
			
			if (episodeId && !usedEpisodeIds.has(episodeId) && 
				podcastName && !usedPodcastNames.has(podcastName)) {
				uniqueRecommendations.push(rec);
				usedEpisodeIds.add(episodeId);
				usedPodcastNames.add(podcastName);
			}
		}
  
		uniqueRecommendations.forEach((rec, index) => {
		  // å–å¾—podcast_idèˆ‡æ¨™é¡Œ
		  const rssId = rec.rss_id || rec.podcast_id;
		  const episodeTitle = rec.episode_title;
		  const podcastName = rec.podcast_name || rssId;
		  const playBtnId = `play-btn-${index}`;
		  const imgId = `podcast-img-${index}`;
		  
		            // æ ¹æ“šé¡åˆ¥å’Œ RSS ID æ§‹å»ºåœ–ç‰‡ URL
          const category = window.mainCategory || 'business';
          // ä½¿ç”¨å¾Œç«¯æä¾›çš„ image_urlï¼Œå¦‚æœæ²’æœ‰å‰‡ä½¿ç”¨é è¨­æ ¼å¼
          let imageUrl = rec.image_url;
          if (!imageUrl) {
            // ç¢ºä¿ rssId æ ¼å¼æ­£ç¢ºï¼ˆç§»é™¤å¯èƒ½çš„ RSS_ å‰ç¶´ï¼Œç„¶å¾Œé‡æ–°æ§‹å»ºï¼‰
            let cleanRssId = rssId;
            if (rssId.startsWith('RSS_')) {
              cleanRssId = rssId.substring(4); // ç§»é™¤ RSS_ å‰ç¶´
            }
            imageUrl = `http://192.168.32.66:30090/podcast-images/RSS_${cleanRssId}_300.jpg`;
          }
          
          // ç¢ºä¿æœ‰æ­£ç¢ºçš„ audio_url
          let audioUrl = rec.audio_url;
          if (!audioUrl && rec.minio_filename) {
            const folderMap = {
              "business": "business-one-minutes-audio",
              "education": "education-one-minutes-audio"
            };
            const folder = folderMap[category] || "business-one-minutes-audio";
            audioUrl = `http://192.168.32.66:30090/${folder}/${rec.minio_filename}`;
          }
          
          // æ›´æ–° currentRecommendations ä¸­çš„ audio_url
          const currentIndex = currentRecommendations.findIndex(ep => 
            (ep.rss_id === rssId || ep.podcast_id === rssId) && ep.episode_title === episodeTitle
          );
          if (currentIndex !== -1 && audioUrl) {
            currentRecommendations[currentIndex].audio_url = audioUrl;
          }
		  
		  // åœ–ç‰‡HTML
		  const imgHtml = `<img id="${imgId}" alt="${podcastName}" style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;" src="${imageUrl}" onerror="this.src='images/default_podcast.png'">`;
		  
		  // éŸ³æª”URLç›´æ¥ç”¨APIå›å‚³
		  const item = document.createElement('div');
		  item.className = 'recommend-item';
		  item.style.cssText = 'display: flex; align-items: center; gap: 15px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; margin: 10px; min-width: 300px; background: white;';
		  item.innerHTML = `
			${imgHtml}
			<img src="images/play_gray.png" alt="æ’­æ”¾" class="play-button" id="${playBtnId}" style="cursor:pointer; width:44px; height:44px;" onclick="playOrPauseAudio(this, '${rssId}', '${episodeTitle}', '${category}')">
		<div class="text" style="flex: 1; min-width: 0;">
			  <div class="title" style="font-weight: bold; font-size: 16px; margin-bottom: 5px; color: #333;">${podcastName}</div>
			  <p class="description" style="font-size: 14px; color: #666; margin: 0; line-height: 1.4;">${episodeTitle || 'ç„¡æ¨™é¡Œ'}</p>
			  <div class="tags-container" style="margin-top: 8px; padding: 4px;">
				${rec.tags ? rec.tags.map(tag => `<span class="tag" style="display: inline-block; background: #f0f0f0; color: #666; padding: 2px 6px; margin: 2px; border-radius: 12px; font-size: 11px;">${tag}</span>`).join('') : '<span style="color: red;">ç„¡ tags å¯é¡¯ç¤º</span>'}
		</div>
			<div style="font-size: 12px; color: #888; margin-top: 4px;">RSS_ID: ${rssId}</div>
			</div>
			<div class="heart-container" title="Like">
			  <input type="checkbox" class="checkbox" id="like-${index}" onchange="toggleLike(${index}, '${rssId}', '${podcastName}', '${episodeTitle}', '${rssId}')">
		  <div class="svg-container">
			<svg viewBox="0 0 24 24" class="svg-outline" xmlns="http://www.w3.org/2000/svg">
				  <path d="M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Zm-3.585,18.4a2.973,2.973,0,0,1-3.83,0C4.947,16.006,2,11.87,2,8.967a4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,11,8.967a1,1,0,0,0,2,0,4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,22,8.967C22,11.87,19.053,16.006,13.915,20.313Z"></path>
			</svg>
			<svg viewBox="0 0 24 24" class="svg-filled" xmlns="http://www.w3.org/2000/svg">
				  <path d="M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Z"></path>
			</svg>
			<svg class="svg-celebrate" width="100" height="100" xmlns="http://www.w3.org/2000/svg">
			  <polygon points="10,10 20,20"></polygon>
			  <polygon points="10,50 20,50"></polygon>
			  <polygon points="20,80 30,70"></polygon>
			  <polygon points="90,10 80,20"></polygon>
			  <polygon points="90,50 80,50"></polygon>
			  <polygon points="80,80 70,70"></polygon>
			</svg>
		  </div>
		</div>
		  `;
		  container.appendChild(item);
		  
		  // ç¢ºä¿ checkbox åˆå§‹ç‹€æ…‹ç‚ºæœªé¸ä¸­
		  const checkbox = document.getElementById(`like-${index}`);
		  if (checkbox) {
			checkbox.checked = false;
			checkbox.removeAttribute('checked');
			// æ·»åŠ  data å±¬æ€§ä¾†è¿½è¹¤ç‹€æ…‹
			checkbox.setAttribute('data-initial-state', 'false');
		  }
		});
	  }
	  
	  // è¨­å®šç¯€ç›®åœ–ç‰‡ï¼ˆå¾ MinIO è¼‰å…¥ï¼‰
	  window.setPodcastImage = function(imgElement, rssId) {
		if (!imgElement || !rssId) {
		  console.error('setPodcastImage: ç¼ºå°‘å¿…è¦åƒæ•¸', { imgElement, rssId });
		  return;
		}
		
		console.log('é–‹å§‹è¼‰å…¥åœ–ç‰‡ï¼ŒRSS ID:', rssId);
		
		// ç¢ºä¿ rssId æ ¼å¼æ­£ç¢ºï¼ˆç§»é™¤å¯èƒ½çš„ RSS_ å‰ç¶´ï¼Œç„¶å¾Œé‡æ–°æ§‹å»ºï¼‰
		let cleanRssId = rssId;
		if (rssId.startsWith('RSS_')) {
		  cleanRssId = rssId.substring(4); // ç§»é™¤ RSS_ å‰ç¶´
		}
		
		// æ ¹æ“šå¯¦éš›åœ–ç‰‡å‘½åæ ¼å¼ï¼šRSS_id_300.jpg
		const imageUrl = `http://192.168.32.66:30090/podcast-images/RSS_${cleanRssId}_300.jpg`;
		console.log(`å˜—è©¦è¼‰å…¥åœ–ç‰‡: ${imageUrl}`);
		
		// æ¸¬è©¦åœ–ç‰‡æ˜¯å¦å¯è¼‰å…¥
		const testImg = new Image();
		testImg.onload = function() {
		  console.log(`æˆåŠŸè¼‰å…¥åœ–ç‰‡: ${imageUrl}`);
		  imgElement.src = imageUrl;
		};
		testImg.onerror = function() {
		  console.log(`åœ–ç‰‡è¼‰å…¥å¤±æ•—: ${imageUrl}ï¼Œä½¿ç”¨é è¨­åœ–ç‰‡`);
		  imgElement.src = 'images/default_podcast.png';
		};
		
		testImg.src = imageUrl;
	  }
	  
	  let globalAudio = null;
	  let currentPlayButton = null;
	  let lastAudioUrl = '';
	  let lastAudioTime = 0;

	  // ä¿®æ­£ 1: playOrPauseAudio æš«åœ/æ’­æ”¾åˆ‡æ›
	  window.playOrPauseAudio = async function(button, rssId, episodeTitle, category) {
		try {
		  console.log('playOrPauseAudio è¢«å‘¼å«:', { rssId, episodeTitle, category });
		  console.log('ç•¶å‰æŒ‰éˆ•ç‹€æ…‹:', button.src);
		  console.log('globalAudio ç‹€æ…‹:', globalAudio ? (globalAudio.paused ? 'paused' : 'playing') : 'null');

		  // å¾ç•¶å‰æ¨è–¦åˆ—è¡¨ä¸­ç²å–éŸ³æª” URL
		  console.log('currentRecommendations:', currentRecommendations);
		  console.log('å°‹æ‰¾æ¢ä»¶:', { rssId, episodeTitle, category });
		  
		  const currentEpisode = currentRecommendations.find(ep => {
			const epRssId = ep.rss_id || ep.podcast_id;
			const epTitle = ep.episode_title;
			// ä¿®æ­£æ¯”å°é‚è¼¯ï¼šåªæ¯”å° RSS IDï¼Œå› ç‚º episodeTitle å¯èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦
			const match = (epRssId == rssId || epRssId.toString() === rssId.toString());
			console.log('æ¯”å°:', { epRssId, epTitle, rssId, episodeTitle, match });
			return match;
		  });
		  
		  console.log('æ‰¾åˆ°çš„ç¯€ç›®:', currentEpisode);
		  
		  let audioUrl = '';
		  if (currentEpisode && currentEpisode.audio_url) {
			audioUrl = currentEpisode.audio_url;
			console.log('å¾ currentEpisode ç²å–éŸ³æª” URL:', audioUrl);
		  } else {
			console.log('currentEpisode ä¸­æ²’æœ‰ audio_urlï¼Œå˜—è©¦å¾ MinIO ç²å–');
			// å¦‚æœæ²’æœ‰æ‰¾åˆ°éŸ³æª” URLï¼Œå˜—è©¦å¾ MinIO ç²å–
			try {
			  						const response = await fetch('/api/audio/presigned-url', {
			method: 'POST',
			headers: {
				'Content-Type': 'application/json',
			},
			body: JSON.stringify({
				rss_id: rssId,
				episode_title: episodeTitle,
				category: category
			})
		});
			  
			  if (response.ok) {
				const data = await response.json();
				if (data.success && data.audio_url) {
				  audioUrl = data.audio_url;
				  console.log('å¾ MinIO ç²å–éŸ³æª”:', audioUrl);
				}
			  }
			} catch (error) {
			  console.log('ç„¡æ³•å¾ MinIO ç²å–éŸ³æª”:', error);
			}
		  }
		  
		  if (!audioUrl) {
			throw new Error('ç„¡æ³•æ‰¾åˆ°å°æ‡‰çš„éŸ³æª” URL');
		  }
		  
		  console.log('ä½¿ç”¨éŸ³æª” URL:', audioUrl);

		  // å¦‚æœå·²ç¶“æœ‰ audio ç‰©ä»¶ä¸”æ˜¯åŒä¸€é¦–æ­Œæ›²
		  if (globalAudio && lastAudioUrl === audioUrl) {
			if (!globalAudio.paused) {
			  // æ­£åœ¨æ’­æ”¾ï¼ŒåŸ·è¡Œæš«åœ
			  console.log('åŸ·è¡Œæš«åœ');
			  globalAudio.pause();
			  lastAudioTime = globalAudio.currentTime;
			  button.src = 'images/play_gray.png';
			  return;
			} else {
			  // å·²æš«åœï¼ŒåŸ·è¡Œæ’­æ”¾
			  console.log('åŸ·è¡Œæ’­æ”¾');
			  globalAudio.currentTime = lastAudioTime;
			  globalAudio.play();
			  button.src = 'images/stop_gray.png';
			  return;
			}
		  }

		  // å¦‚æœæ˜¯æ–°æ­Œæ›²æˆ–æ²’æœ‰ audio ç‰©ä»¶ï¼Œå…ˆåœæ­¢ç•¶å‰æ’­æ”¾
		  if (globalAudio) {
			console.log('åœæ­¢ç•¶å‰æ’­æ”¾ï¼Œåˆ‡æ›åˆ°æ–°æ­Œæ›²');
			globalAudio.pause();
			if (currentPlayButton && currentPlayButton !== button) {
			  currentPlayButton.src = 'images/play_gray.png';
			}
		  }

		  // å»ºç«‹æ–°çš„ audio ç‰©ä»¶
		  console.log('å»ºç«‹æ–°éŸ³æª”ç‰©ä»¶');
		  globalAudio = new Audio(audioUrl);
		  lastAudioUrl = audioUrl;
		  lastAudioTime = 0;
		  currentPlayButton = button;

		  // è¨­å®šäº‹ä»¶ç›£è½å™¨
		  globalAudio.addEventListener('ended', () => {
			console.log('æ’­æ”¾çµæŸ');
			button.src = 'images/play_gray.png';
			lastAudioTime = 0;
		  });
		  
		  globalAudio.addEventListener('pause', () => {
			console.log('æš«åœäº‹ä»¶è§¸ç™¼');
			button.src = 'images/play_gray.png';
		  });
		  
		  globalAudio.addEventListener('play', () => {
			console.log('æ’­æ”¾äº‹ä»¶è§¸ç™¼');
			button.src = 'images/stop_gray.png';
		  });
		  
		  globalAudio.addEventListener('error', (e) => {
			console.log('æ’­æ”¾éŒ¯èª¤:', e);
			button.src = 'images/play_gray.png';
			alert('éŸ³æª”æ’­æ”¾å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šæˆ–éŸ³æª”æ˜¯å¦å­˜åœ¨');
			console.error('éŸ³æª”æ’­æ”¾éŒ¯èª¤è©³æƒ…:', e);
		  });

		  // é–‹å§‹æ’­æ”¾
		  console.log('é–‹å§‹æ’­æ”¾æ–°æ­Œæ›²');
		  console.log('éŸ³æª” URL:', audioUrl);
		  
		  // æ¸¬è©¦éŸ³æª”æ˜¯å¦å¯ä»¥è¼‰å…¥
		  globalAudio.addEventListener('loadstart', () => {
			console.log('é–‹å§‹è¼‰å…¥éŸ³æª”...');
		  });
		  
		  globalAudio.addEventListener('canplay', () => {
			console.log('éŸ³æª”å¯ä»¥æ’­æ”¾');
		  });
		  
		  globalAudio.addEventListener('error', (e) => {
			console.error('éŸ³æª”è¼‰å…¥å¤±æ•—:', e);
			button.src = 'images/play_gray.png';
		  });
		  
		  await globalAudio.play();
		  button.src = 'images/stop_gray.png';

		} catch (error) {
		  console.error('æ’­æ”¾å¤±æ•—:', error);
		  alert('æ’­æ”¾å¤±æ•—: ' + error.message);
		  button.src = 'images/play_gray.png';
		}
	  }
	  
	  // æ’­æ”¾éŸ³æª”
	  async function playAudio(audioUrl, episodeId, podcastName, episodeTitle, rssId) {
		try {
		  console.log('é–‹å§‹æ’­æ”¾éŸ³æª”:', audioUrl);
		  
		  // æª¢æŸ¥æ˜¯å¦ç‚º MinIO éŸ³æª” URL
		  let finalAudioUrl = audioUrl;
		  
		  // å¦‚æœ URL ä¸åŒ…å« MinIO é ç°½å URLï¼Œå‰‡å˜—è©¦ç²å–
		  if (!audioUrl.includes('localhost:9000') && !audioUrl.includes('192.168.32.66:30090') && !audioUrl.includes('audio/sample')) {
			try {
			  						const response = await fetch('/api/audio/presigned-url', {
				method: 'POST',
				headers: {
				  'Content-Type': 'application/json',
				},
				body: JSON.stringify({
				  rss_id: rssId,
				  episode_title: episodeTitle,
				  category: mapCategoryToAPI(window.mainCategory || 'business')
				})
			  });
			  
			  if (response.ok) {
				const data = await response.json();
				if (data.success && data.audio_url) {
				  finalAudioUrl = data.audio_url;
				  console.log('å¾ MinIO ç²å–éŸ³æª”:', finalAudioUrl);
				}
			  }
			} catch (error) {
			  console.log('ç„¡æ³•å¾ MinIO ç²å–éŸ³æª”ï¼Œä½¿ç”¨é è¨­éŸ³æª”');
			}
		  }
		  
		  // åœæ­¢ç•¶å‰æ’­æ”¾çš„éŸ³æª”
		  const existingAudio = document.getElementById('audio-player');
		  if (existingAudio) {
			existingAudio.pause();
			existingAudio.currentTime = 0;
		  }
		  
		  // å‰µå»ºæ–°çš„éŸ³æª”å…ƒç´ 
		  const audio = new Audio();
		  audio.id = 'audio-player';
		  audio.src = finalAudioUrl;
		  
		  // æ·»åŠ æ’­æ”¾äº‹ä»¶ç›£è½å™¨
		  audio.addEventListener('loadstart', () => {
			console.log('é–‹å§‹è¼‰å…¥éŸ³æª”...');
		  });
		  
		  audio.addEventListener('canplay', () => {
			console.log('éŸ³æª”å¯ä»¥æ’­æ”¾');
		  });
		  
		  audio.addEventListener('play', () => {
			console.log('é–‹å§‹æ’­æ”¾:', podcastName, '-', episodeTitle);
			// é¡¯ç¤ºæ’­æ”¾ç‹€æ…‹
			showPlayStatus(podcastName, episodeTitle, true);
		  });
		  
		  audio.addEventListener('ended', () => {
			console.log('æ’­æ”¾çµæŸ');
			showPlayStatus(podcastName, episodeTitle, false);
		  });
		  
		  audio.addEventListener('error', (e) => {
			console.error('æ’­æ”¾éŒ¯èª¤:', e);
			alert('éŸ³æª”æ’­æ”¾å¤±æ•—ï¼Œè«‹æª¢æŸ¥éŸ³æª”æ˜¯å¦å­˜åœ¨');
			showPlayStatus(podcastName, episodeTitle, false);
		  });
		  
		  // é–‹å§‹æ’­æ”¾
		  const playPromise = audio.play();
		  if (playPromise !== undefined) {
			playPromise.then(() => {
			  // æ’­æ”¾æˆåŠŸ
			  console.log('æ’­æ”¾æˆåŠŸå•Ÿå‹•');
			}).catch(error => {
			  console.error('æ’­æ”¾å¤±æ•—:', error);
			  alert('æ’­æ”¾å¤±æ•—ï¼Œå¯èƒ½æ˜¯ç€è¦½å™¨é˜»æ­¢äº†è‡ªå‹•æ’­æ”¾');
			});
		  }
		  
		  // è¨˜éŒ„æ’­æ”¾è¡Œç‚º
		  recordFeedback('play', episodeId, podcastName, episodeTitle, rssId);
		  
		} catch (error) {
		  console.error('æ’­æ”¾å¤±æ•—:', error);
		  alert('æ’­æ”¾å¤±æ•—: ' + error.message);
		}
	  }
	  
	  // é¡¯ç¤ºæ’­æ”¾ç‹€æ…‹
	  function showPlayStatus(podcastName, episodeTitle, isPlaying) {
		// å‰µå»ºæˆ–æ›´æ–°æ’­æ”¾ç‹€æ…‹æç¤º
		let statusDiv = document.getElementById('play-status');
		if (!statusDiv) {
		  statusDiv = document.createElement('div');
		  statusDiv.id = 'play-status';
		  statusDiv.style.cssText = `
			position: fixed;
			top: 20px;
			right: 20px;
			background: ${isPlaying ? '#4CAF50' : '#f44336'};
			color: white;
			padding: 10px 15px;
			border-radius: 5px;
			z-index: 10000;
			font-size: 14px;
			box-shadow: 0 2px 10px rgba(0,0,0,0.2);
		  `;
		  document.body.appendChild(statusDiv);
		}
		
		statusDiv.textContent = isPlaying ? 
		  `ğŸµ æ­£åœ¨æ’­æ”¾: ${podcastName} - ${episodeTitle}` : 
		  `â¹ï¸ æ’­æ”¾çµæŸ: ${podcastName} - ${episodeTitle}`;
		
		// 3ç§’å¾Œè‡ªå‹•éš±è—
		setTimeout(() => {
		  if (statusDiv && !isPlaying) {
			statusDiv.remove();
		  }
		}, 3000);
	  }
	  
	  // åˆ‡æ›å–œæ­¡ç‹€æ…‹
	  function toggleLike(index, episodeId, podcastName, episodeTitle, rssId) {
		const checkbox = document.getElementById(`like-${index}`);
		const isLiked = checkbox.checked;
		
		console.log('toggleLike è¢«å‘¼å«:', { index, episodeId, isLiked });
		
		// æ›´æ–°é¸ä¸­çš„ç¯€ç›®åˆ—è¡¨
		const episodeData = {
		  episode_id: episodeId,
		  podcast_name: podcastName,
		  episode_title: episodeTitle,
		  rss_id: rssId
		};
		
		if (isLiked) {
		  // æ·»åŠ åˆ°é¸ä¸­åˆ—è¡¨ï¼ˆcheckbox è¢«å‹¾é¸æ™‚åŠ å…¥å–œå¥½ï¼‰
		  window.selectedEpisodes.push(episodeData);
		  recordFeedback('like', episodeId, podcastName, episodeTitle, rssId);
		  console.log(`â¤ï¸ åŠ å…¥å–œå¥½: ${podcastName} - ${episodeTitle}`);
		} else {
		  // å¾é¸ä¸­åˆ—è¡¨ç§»é™¤ï¼ˆcheckbox å–æ¶ˆå‹¾é¸æ™‚ç§»é™¤å–œå¥½ï¼‰
		  window.selectedEpisodes = window.selectedEpisodes.filter(ep => ep.episode_id !== episodeId);
		  recordFeedback('unlike', episodeId, podcastName, episodeTitle, rssId);
		  console.log(`ğŸ’” ç§»é™¤å–œå¥½: ${podcastName} - ${episodeTitle}`);
		}
		
		console.log('é¸ä¸­çš„ç¯€ç›®æ•¸é‡:', window.selectedEpisodes.length);
		console.log('é¸ä¸­çš„ç¯€ç›®:', window.selectedEpisodes);
		
		// é¡¯ç¤ºç”¨æˆ¶åå¥½æç¤º - å‚³å…¥ç•¶å‰ç‹€æ…‹ï¼ˆcheckbox.checkedï¼‰
		showPreferenceNotification(podcastName, episodeTitle, isLiked);
	  }
	  
	  // é¡¯ç¤ºç”¨æˆ¶åå¥½æç¤º
	  function showPreferenceNotification(podcastName, episodeTitle, isLiked) {
		// å‰µå»ºæˆ–æ›´æ–°åå¥½æç¤º
		let notificationDiv = document.getElementById('preference-notification');
		if (!notificationDiv) {
		  notificationDiv = document.createElement('div');
		  notificationDiv.id = 'preference-notification';
		  notificationDiv.style.cssText = `
			position: fixed;
			top: 80px;
			right: 20px;
			background: ${isLiked ? '#4CAF50' : '#f44336'};
			color: white;
			padding: 12px 18px;
			border-radius: 8px;
			z-index: 10000;
			font-size: 14px;
			box-shadow: 0 4px 12px rgba(0,0,0,0.3);
			max-width: 300px;
			word-wrap: break-word;
			transform: translateX(100%);
			transition: transform 0.3s ease;
		  `;
		  document.body.appendChild(notificationDiv);
		}
		
		const emoji = isLiked ? 'â¤ï¸' : 'ğŸ’”';
		const action = isLiked ? 'å·²åŠ å…¥å–œå¥½' : 'å·²ç§»é™¤å–œå¥½';
		
		notificationDiv.innerHTML = `
		  <div style="display: flex; align-items: center; gap: 8px;">
			<span style="font-size: 18px;">${emoji}</span>
			<div>
			  <div style="font-weight: bold;">${action}</div>
			  <div style="font-size: 12px; opacity: 0.9;">${podcastName}</div>
			  <div style="font-size: 11px; opacity: 0.8;">${episodeTitle}</div>
	  </div>
	</div>
  `;
		
		// é¡¯ç¤ºå‹•ç•«
		setTimeout(() => {
		  notificationDiv.style.transform = 'translateX(0)';
		}, 100);
		
		// 3ç§’å¾Œè‡ªå‹•éš±è—
		setTimeout(() => {
		  notificationDiv.style.transform = 'translateX(100%)';
		  setTimeout(() => {
			if (notificationDiv) {
			  notificationDiv.remove();
			}
		  }, 300);
		}, 3000);
	  }
	  
	  // è¨˜éŒ„ç”¨æˆ¶åé¥‹
	  async function recordFeedback(action, episodeId, podcastName, episodeTitle, rssId) {
		try {
		  				// ä½¿ç”¨è‡¨æ™‚ç”¨æˆ¶IDï¼Œåœ¨ Step 4 æ™‚æœƒæ›´æ–°ç‚ºçœŸå¯¦çš„ç”¨æˆ¶ID
						const tempUserId = window.generatedUserId || localStorage.getItem('currentUserId') || 'temp_user';
		  
		  const response = await fetch('/api/feedback', {
				method: 'POST',
				headers: {
			  		'Content-Type': 'application/json',
				},
				body: JSON.stringify({
			  		        user_id: tempUserId,
			  	episode_id: episodeId,
			  podcast_name: podcastName,
			  episode_title: episodeTitle,
			  rss_id: rssId,
			  action: action,
			  category: window.mainCategory || 'business'
			})
		  });
		  
		  if (response.ok) {
			console.log(`${action} æ“ä½œè¨˜éŒ„æˆåŠŸ`);
		  }
		  
		} catch (error) {
		  console.error('è¨˜éŒ„åé¥‹å¤±æ•—:', error);
		}
	  }
	  
	  // é‡æ–°æ•´ç†æ¨è–¦
	  function refreshRecommendations() {
		loadRecommendations();
	  }
	  
	  // é é¢è¼‰å…¥æ™‚è¼‰å…¥æ¨è–¦
	  document.addEventListener('DOMContentLoaded', () => {
		// å»¶é²è¼‰å…¥ï¼Œç¢ºä¿ Step 2 å·²å®Œæˆ
		setTimeout(loadRecommendations, 100);
	  });
	  
	  // é é¢é›¢é–‹æ™‚åœæ­¢éŸ³æª”æ’­æ”¾
	  window.addEventListener('beforeunload', () => {
		if (globalAudio) {
		  globalAudio.pause();
		  globalAudio = null;
		}
	  });
	  
	  // æ³¨æ„ï¼šgoToStep å‡½æ•¸å·²åœ¨å¾Œé¢çš„å…¨åŸŸè…³æœ¬ä¸­é‡æ–°å®šç¾©ï¼ŒåŒ…å«åœæ­¢éŸ³æª”åŠŸèƒ½
	</script>
  </div>
  
			<!-- Step 4 -->
<div class="popup-step" id="popup-step-4" style="display: none;">
  <h2 style="color: #7c4dff;">Sign in Your Podwise</h2>
  <!-- é€™è£¡é–‹å§‹ï¼š -->
  <div class="form-center">
    <!-- Podwise ID è¼¸å…¥ -->
    <input
      type="text"
      name="demo-name"
      id="demo-name"
      placeholder="è¼¸å…¥ä½ çš„Podwise ID"
    />

    <!-- or åˆ†éš” -->
    <span style="color:#666;">â€” or â€”</span>

    <!-- ç”¢ç”Ÿ ID æŒ‰éˆ• -->
    <input
      type="button"
      value="ç”¢ç”ŸPodwise ID"
      id="generateIdBtn"
      class="secondary"
      onclick="generatePodwiseID()"
    />

    <!-- é¡¯ç¤ºç”¢ç”Ÿå¾Œçš„ ID -->
    <input
      type="text"
      id="podwiseIdField"
      readonly
      placeholder="Generating..."
    />

    <!-- é€²å…¥ Podwise æŒ‰éˆ• -->
    <button
      type="button"
      class="button primary"
      onclick="enterPodwise()"
    >
      é€²å…¥Podwise
    </button>
  </div>
  <!-- é€™è£¡çµæŸ -->
</div>

									<script>
										async function generatePodwiseID() {
											try {
												// é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
												const idField = document.getElementById('podwiseIdField');
												const generateBtn = document.getElementById('generateIdBtn');
												
												idField.value = 'æ­£åœ¨ç”Ÿæˆ...';
												generateBtn.disabled = true;
												generateBtn.value = 'ç”Ÿæˆä¸­...';
												
												        // èª¿ç”¨ç”¨æˆ¶ç®¡ç† API ç”Ÿæˆ Podwise ID
        const response = await fetch('/api/generate-podwise-id', {
													method: 'POST',
													headers: {
														'Content-Type': 'application/json',
													},
													body: JSON.stringify({})
												});
												
												if (response.ok) {
													const data = await response.json();
													if (data.success) {
														// é¡¯ç¤ºç”Ÿæˆçš„ Podwise ID
														idField.value = data.podwise_id;
														        // å„²å­˜ user_id ä¾›å¾ŒçºŒä½¿ç”¨
        window.generatedUserId = data.user_id; // ä½¿ç”¨ user_id
        console.log('Podwise ID ç”ŸæˆæˆåŠŸ:', data.user_id);
													} else {
														throw new Error(data.message || 'ç”Ÿæˆå¤±æ•—');
													}
												} else {
													throw new Error(`API è«‹æ±‚å¤±æ•—: ${response.status}`);
												}
												
											} catch (error) {
												console.error('ç”Ÿæˆ Podwise ID å¤±æ•—:', error);
												document.getElementById('podwiseIdField').value = 'ç”Ÿæˆå¤±æ•—ï¼Œè«‹é‡è©¦';
												alert('ç”Ÿæˆ Podwise ID å¤±æ•—ï¼Œè«‹é‡è©¦');
											} finally {
												// æ¢å¾©æŒ‰éˆ•ç‹€æ…‹
												const generateBtn = document.getElementById('generateIdBtn');
												generateBtn.disabled = false;
												generateBtn.value = 'ç”¢ç”ŸPodwise ID';
											}
										}
										
										// æ”¶é›†æ‰€æœ‰ Like çš„ç¯€ç›®è³‡è¨Š
										function collectLikedEpisodes() {
										  // ä½¿ç”¨å…¨åŸŸè®Šæ•¸ä¸­å·²æ”¶é›†çš„ç¯€ç›®ï¼Œå¦‚æœæ²’æœ‰å‰‡å¾ checkbox é‡æ–°æ”¶é›†
										  if (window.selectedEpisodes && window.selectedEpisodes.length > 0) {
										    console.log('ä½¿ç”¨å·²æ”¶é›†çš„ç¯€ç›®:', window.selectedEpisodes);
										    return;
										  }
										  
										  const likedEpisodes = [];
										  if (window.currentRecommendations) {
										    window.currentRecommendations.forEach((rec, idx) => {
										      const checkbox = document.getElementById(`like-${idx}`);
										      if (checkbox && checkbox.checked) {
										        likedEpisodes.push({
										          podcast_name: rec.podcast_name,
										          episode_title: rec.episode_title,
										          rss_id: rec.rss_id || rec.podcast_id,
										                                  episode_id: rec.episode_id
										        });
										      }
										    });
										  }
										  window.selectedEpisodes = likedEpisodes;
										  console.log('é‡æ–°æ”¶é›†ç¯€ç›®:', window.selectedEpisodes);
										}
										
																				// é€²å…¥ Podwise æŒ‰éˆ•è§¸ç™¼
										async function enterPodwise() {
										  collectLikedEpisodes(); // å…ˆæ”¶é›† Like ç¯€ç›®

										  const userIdInput = document.getElementById('demo-name');
										  const generatedIdInput = document.getElementById('podwiseIdField');
										  let userId = userIdInput.value.trim();
										  const isNewUser = generatedIdInput.value.trim() !== '';
										  
										  if (isNewUser) {
										    // ä½¿ç”¨ç”Ÿæˆçš„ç”¨æˆ¶ID
										    userId = window.generatedUserId || 'Podwise0001'; // é è¨­ä½¿ç”¨ Podwise0001
										  } else {
										    // æª¢æŸ¥æ˜¯å¦ç‚ºæœ‰æ•ˆçš„ Podwise ID æ ¼å¼
										    if (!userId.startsWith('Podwise')) {
										      alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„ Podwise ID æ ¼å¼ï¼ˆä¾‹å¦‚ï¼šPodwise0001ï¼‰');
										      return;
										    }
										    
										    // æª¢æŸ¥ç¾æœ‰ç”¨æˆ¶æ˜¯å¦å­˜åœ¨æ–¼è³‡æ–™åº«
										    try {
										      const checkResponse = await fetch(`/api/user/check/${userId}`, {
										        method: 'GET',
										        headers: { 'Content-Type': 'application/json' }
										      });
										      
										      if (checkResponse.ok) {
										        const checkData = await checkResponse.json();
										        if (!checkData.exists) {
										          alert('æ­¤ Podwise ID ä¸å­˜åœ¨ï¼Œè«‹é‡æ–°è¼¸å…¥æˆ–å‰µå»ºæ–°çš„ ID');
										          return;
										        }
										      } else {
										        console.warn('ç„¡æ³•æª¢æŸ¥ç”¨æˆ¶å­˜åœ¨æ€§ï¼Œç¹¼çºŒåŸ·è¡Œ');
										      }
										    } catch (error) {
										      console.warn('æª¢æŸ¥ç”¨æˆ¶å­˜åœ¨æ€§å¤±æ•—:', error);
										    }
										    
										    // å°æ–¼ç¾æœ‰ç”¨æˆ¶ï¼Œç›´æ¥ä½¿ç”¨è¼¸å…¥çš„ ID
										    console.log('ä½¿ç”¨ç¾æœ‰ç”¨æˆ¶ ID:', userId);
										  }
										  
										  if (!userId) {
										    alert('è«‹è¼¸å…¥æˆ–ç”¢ç”Ÿ Podwise ID');
										    return;
										  }
										  
										  // æª¢æŸ¥æ˜¯å¦è‡³å°‘é¸æ“‡äº†ä¸€å€‹ç¯€ç›®
										  if (window.selectedEpisodes.length === 0) {
										    alert('è«‹è‡³å°‘é¸æ“‡ä¸€å€‹æ‚¨å–œæ­¡çš„ç¯€ç›®');
										    return;
										  }
										  
										  try {
										    // å„²å­˜å®Œæ•´çš„ç”¨æˆ¶åå¥½è³‡æ–™
										    await saveUserPreferences(userId);
										    console.log('ç”¨æˆ¶åå¥½å„²å­˜æˆåŠŸï¼Œæº–å‚™è·³è½‰åˆ°æ²’æœ‰å½ˆå‡ºè¦–çª—çš„ index.html');
										    // ç¢ºä¿è¨­ç½®æ­£ç¢ºçš„ localStorage å€¼
										    localStorage.setItem('podwiseOnboarded', 'true');
										    localStorage.setItem('currentUserId', userId);
										    console.log('localStorage å·²è¨­ç½®:', { 
										        podwiseOnboarded: localStorage.getItem('podwiseOnboarded'),
										        currentUserId: localStorage.getItem('currentUserId')
										    });
										    // å»¶é²è·³è½‰ç¢ºä¿ localStorage å·²ä¿å­˜
										    setTimeout(() => {
										        window.location.href = '/';
										    }, 100);
										  } catch (error) {
										    console.error('å„²å­˜ç”¨æˆ¶åå¥½å¤±æ•—:', error);
										    alert('å„²å­˜å¤±æ•—ï¼Œè«‹é‡è©¦');
										  }
										}
										
										// å„²å­˜ç”¨æˆ¶åå¥½è³‡æ–™
										async function saveUserPreferences(userId) {
										  try {
										    const userData = {
										              user_id: userId,
										      main_category: window.mainCategory || 'business', // Step 1 é¸æ“‡çš„ä¸»é¡åˆ¥
										      sub_category: window.selectedTag || '', // Step 2 é¸æ“‡çš„æ¨™ç±¤ä½œç‚º sub_category
										    };
										
										        // å…ˆå„²å­˜ç”¨æˆ¶åå¥½
    const response = await fetch('/api/user/preferences', {
										      method: 'POST',
										      headers: {
										        'Content-Type': 'application/json',
										      },
										      body: JSON.stringify(userData)
										    });
										
										    if (response.ok) {
										      const data = await response.json();
										      console.log('ç”¨æˆ¶åå¥½å„²å­˜æˆåŠŸ:', data);
										      
										      // å„²å­˜æ¯å€‹å–œæ­¡çš„ç¯€ç›®çš„åé¥‹åˆ° user_feedback è¡¨
										      for (const episode of window.selectedEpisodes) {
										        try {
										          const feedbackData = {
										            user_id: userId,
										            podcast_id: episode.episode_id || 0, // ä½¿ç”¨ episode_id ä½œç‚º podcast_id
										            episode_title: episode.episode_title,
										            like_count: 1, // å› ç‚ºæ˜¯å–œæ­¡æ“ä½œ
										            preview_play_count: 0
										          };
										          
										          												          const feedbackResponse = await fetch('/api/feedback', {
										            method: 'POST',
										            headers: {
										              'Content-Type': 'application/json',
										            },
										            body: JSON.stringify(feedbackData)
										          });
										          
										          if (feedbackResponse.ok) {
										            console.log(`ç¯€ç›®åé¥‹å„²å­˜æˆåŠŸ: ${episode.podcast_name} - ${episode.episode_title}`);
										          } else {
										            console.warn(`ç¯€ç›®åé¥‹å„²å­˜å¤±æ•—: ${episode.podcast_name}`);
										          }
										        } catch (error) {
										          console.warn(`å„²å­˜ç¯€ç›®åé¥‹æ™‚ç™¼ç”ŸéŒ¯èª¤: ${error}`);
										        }
										      }
										      
										      return data;
										    } else {
										      const errorData = await response.json();
										      throw new Error(errorData.detail || 'å„²å­˜å¤±æ•—');
										    }
										  } catch (error) {
										    console.error('å„²å­˜ç”¨æˆ¶åå¥½å¤±æ•—:', error);
										    throw error;
										  }
										}
										
										async function registerNewUser(userId) {
											try {
												    // ä½¿ç”¨ç”¨æˆ¶ç®¡ç† API ä¾†å‰µå»ºæ–°ç”¨æˆ¶
    const response = await fetch('/user-api/api/generate-podwise-id', {
													method: 'POST',
													headers: {
														'Content-Type': 'application/json',
													},
													body: JSON.stringify({})
												});
												
												if (response.ok) {
													const data = await response.json();
													console.log('ç”¨æˆ¶è¨»å†ŠæˆåŠŸ:', data);
													return data;
												} else {
													throw new Error('è¨»å†Šå¤±æ•—');
												}
												
											} catch (error) {
												console.error('è¨»å†Šç”¨æˆ¶å¤±æ•—:', error);
												throw error;
											}
										}
									</script>
						<!-- <button type="button" class="button" onclick="closePopup()">é€²å…¥Podwise</button> -->
								</div>

						</div>
					</div>

						<!-- Scripts -->
	<script src="migrate_localStorage.js"></script>
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
					<script>
						// åˆæ¬¡é¡¯ç¤º - æª¢æŸ¥æ˜¯å¦å·²ç¶“å®Œæˆ onboarding
						window.addEventListener('DOMContentLoaded', () => {
							const isOnboarded = localStorage.getItem('podwiseOnboarded') === 'true';
							const currentUserId = localStorage.getItem('currentUserId');
							
							console.log('æª¢æŸ¥ onboarding ç‹€æ…‹:', { isOnboarded, currentUserId });
							
							if (!isOnboarded || !currentUserId) {
								console.log('é¡¯ç¤º onboarding å½ˆçª—');
								document.getElementById('popup-overlay').style.display = 'flex';
							} else {
								console.log('ç”¨æˆ¶å·²å®Œæˆ onboardingï¼Œä¸é¡¯ç¤ºå½ˆçª—');
								// é¡¯ç¤ºæ­¡è¿è¨Šæ¯å’Œæ“ä½œæŒ‰éˆ•
								showWelcomeMessage(currentUserId);
							}
						});
						
						// é¡¯ç¤ºæ­¡è¿è¨Šæ¯å’Œæ“ä½œæŒ‰éˆ•
						function showWelcomeMessage(userId) {
							const banner = document.querySelector('#banner .content');
							if (banner && userId) {
								const welcomeDiv = document.createElement('div');
								welcomeDiv.style.cssText = 'text-align: center; margin: 20px 0; padding: 15px; background: rgba(255,255,255,0.9); border-radius: 8px;';
								welcomeDiv.innerHTML = `
									<h3 style="color: #583e3d; margin-bottom: 10px;">æ­¡è¿å›ä¾†ï¼Œ${userId}ï¼</h3>
									<div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
										<button onclick="window.location.href='podri.html?user_id=${userId}'" 
												style="padding: 8px 16px; background: #583e3d; color: white; border: none; border-radius: 4px; cursor: pointer;">
											é€²å…¥ Podri èŠå¤©
										</button>
										<button onclick="resetOnboarding()" 
												style="padding: 8px 16px; background: #666; color: white; border: none; border-radius: 4px; cursor: pointer;">
											é‡æ–°é–‹å§‹
										</button>
									</div>
								`;
								banner.appendChild(welcomeDiv);
							}
						}
						
						// é‡ç½® onboarding ç‹€æ…‹
						function resetOnboarding() {
							localStorage.removeItem('podwiseOnboarded');
							localStorage.removeItem('currentUserId');
							window.location.reload();
						}

						// å‘å¾Œç«¯å–å¾— ID ä¸¦é¡¯ç¤º
						function fetchGeneratedCode() {
							    fetch('/user-api/api/generate-podwise-id', {
								method: 'POST',
								headers: {
									'Content-Type': 'application/json',
								},
								body: JSON.stringify({})
							})
							.then(res => res.json())
							.then(data => {
								if (data.success) {
									document.getElementById('generated-code').textContent = data.podwise_id;
								} else {
									document.getElementById('generated-code').textContent = 'å–å¾—å¤±æ•—';
								}
							})
							.catch(() => {
								document.getElementById('generated-code').textContent = 'å–å¾—å¤±æ•—';
							});
						}

						// é—œé–‰
						function closePopup() {
							document.getElementById('popup-overlay').style.display = 'none';
						}
					</script>
					
					<!-- æˆ‘å€‘çš„ Step åŠŸèƒ½ JavaScript -->
					<script>
						// ç­‰å¾…æ‰€æœ‰è…³æœ¬è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œ
						window.addEventListener('load', function() {
							console.log('æ‰€æœ‰è³‡æºè¼‰å…¥å®Œæˆ');
							
							// å…¨åŸŸè®Šæ•¸å’Œå‡½æ•¸å®šç¾©
							window.mainCategory = 'business'; // é è¨­å€¼
							window.selectedEpisodes = []; // å„²å­˜é¸ä¸­çš„ç¯€ç›®

							// ä¸»é¡åˆ¥å°æ‡‰çš„æ¨™ç±¤ï¼ˆå°‡å¾å¾Œç«¯å‹•æ…‹ç²å–ï¼‰
							window.CATEGORY_TAGS = {
								business: ["æŠ•è³‡ç†è²¡", "è‚¡ç¥¨åˆ†æ", "ç¶“æ¿Ÿåˆ†æ", "è²¡å‹™è¦åŠƒ"],
								education: ["å­¸ç¿’æ–¹æ³•", "æ•™è‚²ç†å¿µ", "çŸ¥è­˜åˆ†äº«", "å€‹äººæˆé•·"]
							};

							window.selectMainCategory = function(category) {
								console.log('selectMainCategory è¢«èª¿ç”¨ï¼Œcategory:', category);
								window.mainCategory = category;
								window.selectedMainCategory = category;
								window.selectedTag = null;
								window.goToStep(2);
							};

							window.renderCategoryTags = function() {
								console.log('renderCategoryTags è¢«èª¿ç”¨');
								console.log('mainCategory:', window.mainCategory);
								
								const tagDiv = document.getElementById('category-tags');
								console.log('tagDiv:', tagDiv);
								
								if (!tagDiv) {
									console.error('æ‰¾ä¸åˆ° category-tags div');
									return;
								}
								
								tagDiv.innerHTML = '';
								
								// å¾å¾Œç«¯å‹•æ…‹ç²å–é¡åˆ¥æ¨™ç±¤
								fetch(`/api/category-tags/${window.mainCategory}`)
									.then(response => response.json())
									.then(data => {
										if (data.success) {
											const tags = data.tags;
											console.log('å¾å¾Œç«¯ç²å–çš„æ¨™ç±¤:', tags);
											
											// ç¢ºä¿åªé¡¯ç¤º4å€‹æ¨™ç±¤ï¼Œä»¥2è¡Œ2åˆ—é¡¯ç¤º
											const displayTags = tags.slice(0, 4);
											
											displayTags.forEach(tag => {
												const btn = document.createElement('button');
												btn.className = 'quiz-type-btn' + (window.selectedTag === tag ? ' selected' : '');
												btn.textContent = tag;
												btn.onclick = function() {
													window.selectedTag = tag;
													window.renderCategoryTags(); // åªé«˜äº®
													// é»æ“Šå¾Œè‡ªå‹•é€²å…¥ Step3
													setTimeout(() => { window.goToStep(3); }, 200);
												};
												tagDiv.appendChild(btn);
											});
										} else {
											console.error('ç²å–æ¨™ç±¤å¤±æ•—:', data.message);
											// ä½¿ç”¨é è¨­æ¨™ç±¤
											const defaultTags = window.CATEGORY_TAGS[window.mainCategory] || [];
											const displayTags = defaultTags.slice(0, 4);
											displayTags.forEach(tag => {
												const btn = document.createElement('button');
												btn.className = 'quiz-type-btn' + (window.selectedTag === tag ? ' selected' : '');
												btn.textContent = tag;
												btn.onclick = function() {
													window.selectedTag = tag;
													window.renderCategoryTags();
													setTimeout(() => { window.goToStep(3); }, 200);
												};
												tagDiv.appendChild(btn);
											});
										}
									})
									.catch(error => {
										console.error('ç²å–æ¨™ç±¤ç•°å¸¸:', error);
										// ä½¿ç”¨é è¨­æ¨™ç±¤
										const defaultTags = window.CATEGORY_TAGS[window.mainCategory] || [];
										const displayTags = defaultTags.slice(0, 4);
										displayTags.forEach(tag => {
											const btn = document.createElement('button');
											btn.className = 'quiz-type-btn' + (window.selectedTag === tag ? ' selected' : '');
											btn.textContent = tag;
											btn.onclick = function() {
												window.selectedTag = tag;
												window.renderCategoryTags();
												setTimeout(() => { window.goToStep(3); }, 200);
											};
											tagDiv.appendChild(btn);
										});
									});
							};

							window.goToStep = function(step) {
								console.log('goToStep è¢«èª¿ç”¨ï¼Œstep:', step);
								
								// åœæ­¢ç•¶å‰æ’­æ”¾çš„éŸ³æª”ï¼ˆå¾ Step 2 åˆ° Step 3 æ™‚ç‰¹åˆ¥é‡è¦ï¼‰
								if (window.globalAudio) {
									console.log('åœæ­¢ç•¶å‰éŸ³æª”æ’­æ”¾');
									window.globalAudio.pause();
									window.globalAudio.currentTime = 0;
									window.globalAudio = null;
									if (window.currentPlayButton) {
										window.currentPlayButton.src = 'images/play_gray.png';
									}
									console.log('å·²åœæ­¢éŸ³æª”æ’­æ”¾');
								}
								
								// åŒæ™‚åœæ­¢å…¶ä»–å¯èƒ½çš„éŸ³æª”æ’­æ”¾å™¨
								const existingAudio = document.getElementById('audio-player');
								if (existingAudio) {
									console.log('åœæ­¢ audio-player éŸ³æª”');
									existingAudio.pause();
									existingAudio.currentTime = 0;
								}
								
								// éš±è—æ‰€æœ‰æ­¥é©Ÿ
								document.querySelectorAll('.popup-step').forEach(s => s.style.display = 'none');
								
								// é¡¯ç¤ºæŒ‡å®šæ­¥é©Ÿ
								const targetStep = document.getElementById(`popup-step-${step}`);
								if (targetStep) {
									targetStep.style.display = 'block';
									console.log(`Step ${step} å·²é¡¯ç¤º`);
								} else {
									console.error(`æ‰¾ä¸åˆ° popup-step-${step}`);
								}
								
								// å¦‚æœæ˜¯ Step 2ï¼Œæ¸²æŸ“å°æ‡‰çš„å››å€‹æ¨™ç±¤
								if (step === 2) {
									console.log('æº–å‚™æ¸²æŸ“ Step 2 æ¨™ç±¤');
									window.renderCategoryTags();
								}
								
								// å¦‚æœæ˜¯ Step 3ï¼Œè¼‰å…¥æ¨è–¦
								if (step === 3) {
									if (window.loadRecommendations) {
										window.loadRecommendations();
									}
								}
								
								// å¦‚æœæ˜¯ Step 4ï¼Œä¿å­˜ç”¨æˆ¶åå¥½
								if (step === 4) {
									window.saveStep4Preferences();
								}
							};
							
							// Step4 ä¿å­˜ç”¨æˆ¶åå¥½
							window.saveStep4Preferences = async function() {
								try {
									const userId = localStorage.getItem('currentUserId') || window.generatedUserId;
									if (!userId) {
										console.error('æ²’æœ‰ç”¨æˆ¶ IDï¼Œç„¡æ³•ä¿å­˜åå¥½');
										return;
									}
									
									console.log('ä¿å­˜ Step4 ç”¨æˆ¶åå¥½:', {
										user_id: userId,
										main_category: window.mainCategory,
										selected_episodes: window.selectedEpisodes
									});
									
									const response = await fetch('/api/step4/save-preferences', {
										method: 'POST',
										headers: {
											'Content-Type': 'application/json',
										},
										body: JSON.stringify({
											user_id: userId,
											main_category: window.mainCategory,
											selected_episodes: window.selectedEpisodes
										})
									});
									
									const result = await response.json();
									
									if (result.success) {
										console.log('Step4 åå¥½ä¿å­˜æˆåŠŸ:', result);
										// æ¨™è¨˜ onboarding å®Œæˆ
										localStorage.setItem('podwiseOnboarded', 'true');
										
										// é¡¯ç¤ºæˆåŠŸè¨Šæ¯
										alert('åå¥½è¨­å®šå·²ä¿å­˜ï¼æ‚¨ç¾åœ¨å¯ä»¥é–‹å§‹ä½¿ç”¨ Podwise äº†ã€‚');
										
										// é—œé–‰å½ˆçª—ä¸¦é‡æ–°è¼‰å…¥é é¢
										document.getElementById('popup-overlay').style.display = 'none';
										window.location.reload();
									} else {
										console.log('Step4 åå¥½ä¿å­˜çµæœ:', result);
										// å¦‚æœæ˜¯ç”¨æˆ¶ä¸å­˜åœ¨çš„éŒ¯èª¤ï¼Œå˜—è©¦è‡ªå‹•å‰µå»ºç”¨æˆ¶
										if (result.error && result.error.includes('ç”¨æˆ¶ä¸å­˜åœ¨')) {
											console.log('ç”¨æˆ¶ä¸å­˜åœ¨ï¼Œå˜—è©¦è‡ªå‹•å‰µå»ºç”¨æˆ¶...');
											// æ¨™è¨˜ onboarding å®Œæˆï¼Œä¸é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
											localStorage.setItem('podwiseOnboarded', 'true');
											
											// é¡¯ç¤ºæˆåŠŸè¨Šæ¯
											alert('åå¥½è¨­å®šå·²ä¿å­˜ï¼æ‚¨ç¾åœ¨å¯ä»¥é–‹å§‹ä½¿ç”¨ Podwise äº†ã€‚');
											
											// é—œé–‰å½ˆçª—ä¸¦é‡æ–°è¼‰å…¥é é¢
											document.getElementById('popup-overlay').style.display = 'none';
											window.location.reload();
										} else {
											console.error('Step4 åå¥½ä¿å­˜å¤±æ•—:', result.error);
											alert('ä¿å­˜å¤±æ•—ï¼Œè«‹é‡è©¦ã€‚');
										}
									}
									
								} catch (error) {
									console.error('ä¿å­˜ Step4 åå¥½æ™‚ç™¼ç”ŸéŒ¯èª¤:', error);
									alert('ä¿å­˜æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹é‡è©¦ã€‚');
								}
							};

							console.log('Step åŠŸèƒ½åˆå§‹åŒ–å®Œæˆ');
							console.log('CATEGORY_TAGS:', window.CATEGORY_TAGS);
							console.log('mainCategory:', window.mainCategory);
						});
					</script>
        <!-- Step 4 çµæŸ -->
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Footer æ‡‰è©²åœ¨é€™è£¡ï¼Œç¨ç«‹æ–¼ popup ä¹‹å¤– -->
<footer id="footer" style="background:#dddada; padding:2em 0; text-align:center; margin-top:3em;">
  <div class="inner">
    <p style="margin:0; color:#3d4449;">&copy; 2025 PodWise. All rights reserved.</p>
    <p style="margin:0; font-size:0.9em; color:#3d4449;">Designed by PodWise Team</p>
</footer>

</body>
</html>